<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
        <title>Send Example</title>
    </head>

    <body>
        <input type="text" id="ch" value="ch1" placeholder="请输入接收的频道" /><br/>
        <input type="text" id="msg" placeholder="请输入要发送的消息" /><br/>
        <input type="button" id="btnsend"  value="发送" />
    <!--<p><a href="https://www.liminghulian.com" target="_blank" >本测试demo来自黎明互联官方https://www.liminghulian.com</a>更多资源请访问官网</p>-->
        <script src="js/pushstream.js" type="text/javascript" language="javascript" charset="utf-8"></script>
        <script type="text/javascript" language="javascript" charset="utf-8">
	    function sendMessage()
            {
                var xhrSettings = {
                    timeout: 10,
                    data: {
                        ch: document.getElementById("ch").value,
                        msg:document.getElementById("msg").value,
                        callback:"parseMsg"
                    },
                    url: "send.php",
                    success: function(data) {
                        console.log("success");
                        console.log(data);
                    },
                    error: function(data) {
                        console.log("error");
                        console.log(data);
                    },
                    load: function(data) {
                        console.log("load");
                        console.log(data);
                    },
                    beforeSend: function(data) {
                        console.log("beforeSend");
                        console.log(data);
                    },
                    afterReceive: function(data) {
                        console.log("afterReceive:");
                        console.log(data);
                    }
                };
                Ajax.post(xhrSettings);
            }
            document.getElementById("btnsend").onclick = sendMessage;
        </script>
    </body>
</html>